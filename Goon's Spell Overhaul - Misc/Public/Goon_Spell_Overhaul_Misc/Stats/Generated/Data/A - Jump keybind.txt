// ============================ Jump, Fly, Levitate etc. ============================
// Changes: Keybind is shared, abilities are assigned priority based on resource costs and benefits.
// Credit: Original inspiration for this design is from chronos1172 with "Fix Jump-Fly Shortcut". Funnily enough "SpellActionTypePriority" seems entirely unused in vanilla.
// TODO: Hunt down more spells, including custom ones.

new entry "Projectile_Jump"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_Jump"
data "SpellActionTypePriority" "1"

new entry "Projectile_Fly"
type "SpellData"
data "SpellType" "Projectile"
// using "Projectile_Jump"
using "Projectile_Fly"
data "SpellActionTypePriority" "2"

// WSO_Projectile_Fly_Bird

// new entry "PathOfUndeath_V_VampFlight"
// type "SpellData"
// data "SpellType" "Target"
// using "Projectile_Jump_Vampire_Bats"
// data "TargetRadius" "8"
// data "DisplayName" "h8c7d42d0gfec3g47a0g8668gca40f286d997;1"
// data "Description" "h35045b7bgc5cag48fag8a26g6aaebfa51f52;1"
// data "Icon" "Action_WildShape_Bat"
// data "RequirementConditions" "not HasObscuredState(ObscuredState.Clear,context.Source)"
// data "RequirementEvents" "OnObscurityChanged"
// data "TargetConditions" "CanStand('') and not HasObscuredStateAtPosition(ObscuredState.Clear)"
// data "PrepareEffect" "494541df-d94e-4dcd-876a-d3a644d80a91
// data "SpellFlags" "IsJump;HasHighGroundRangeExtension;IgnoreVisionBlock;RangeIgnoreVerticalThreshold;Stealth;Invisible;CannotTargetCharacter;CannotTargetItems;Temporary;NoAOEDamageOnLand;IgnoreAoO"

new entry "Projectile_TAD_Levitate"
type "SpellData"
data "SpellType" "Projectile"
// using "Projectile_Fly"
using "Projectile_TAD_Levitate"
data "SpellActionTypePriority" "3"

new entry "Siael_IllithidFly"
type "SpellData"
data "SpellType" "Projectile"
// using "Projectile_Fly"
using "Siael_IllithidFly"
// data "DisplayName" "h091b7eadg55dfg4a9cg9bb6g72df9ffdda5b;2"
// data "Description" "hcae1d1c2gb15fg40d6g86c3gd9897fdf4861;1"
// data "DescriptionParams" "10%"
// data "Icon" "TadpoleSuperPower_Levitate"
// data "PrepareSound" "Spell_Prepare_Tadpole_Buff_Gen_Levitate"
// data "PrepareLoopSound" "Spell_Loop_Tadpole_Buff_Gen_L1to3"
// data "CastSound" "Spell_Cast_Tadpole_Fly_L1to3"
// data "SpellAnimation" "b94b9184-9bd0-4840-be7d-003700173b37,,;,,;5df11e35-f081-44f7-bd6f-7049d0e533cd,,;8dccb0f6-24e3-44b7-a60b-1f217b7db523,,;066f8e0e-b3e1-4b76-a473-d1e23a3b7230,,;,,;7a28f440-1b0b-4a18-96a8-3767959b601a,,;,,;,,"
// data "RequirementConditions" "not Tagged('TADPOLE_POWERS_BLOCKED')"
// data "PrepareEffect" "c8cb3922-b4d6-4122-ac39-f6a0fa36020c"
// data "CastEffect" "516519af-84bf-4a97-bdb3-afa14522156a"
// data "TargetRadius" "6"
// data "TargetCeiling" "6"
// data "SpellFlags" "Temporary;IsJump;HasHighGroundRangeExtension;IgnoreVisionBlock;RangeIgnoreVerticalThreshold;Stealth;Invisible;CannotTargetCharacter;CannotTargetItems;NoAOEDamageOnLand"
data "SpellActionTypePriority" "3"

new entry "Projectile_Levitate_Mindflayer_Player"
type "SpellData"
data "SpellType" "Projectile"
// using "Projectile_Levitate_Mindflayer"
using "Projectile_Levitate_Mindflayer_Player"
data "SpellActionTypePriority" "4"

// Has Wildshape SpellFlags
new entry "Projectile_Fly_Spell"
type "SpellData"
data "SpellType" "Projectile"
// using "Projectile_Fly"
using "Projectile_Fly_Spell"
// data "SpellActionType" ""
data "SpellActionType" "Jump"
data "SpellActionTypePriority" "5"

// Shorter range, but no movement cost and ignores difficult terrain
new entry "Projectile_Fly_WrithingTide_Bee"
type "SpellData"
data "SpellType" "Projectile"
// using "Projectile_Fly"
using "Projectile_Fly_WrithingTide_Bee"
data "SpellActionTypePriority" "6"

new entry "Projectile_Fly_WrithingTide_Bee_Temp"
type "SpellData"
data "SpellType" "Projectile"
// using "Projectile_Fly_WrithingTide_Bee"
using "Projectile_Fly_WrithingTide_Bee_Temp"
data "SpellActionTypePriority" "7"

// Shorter range, but no movement cost and ignores AOO
new entry "Projectile_Fly_TempestuousMagic"
type "SpellData"
data "SpellType" "Projectile"
// using "Projectile_Fly"
using "Projectile_Fly_TempestuousMagic"
data "SpellActionTypePriority" "8"